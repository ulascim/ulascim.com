<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="apple-touch-icon" href="../apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teknik Module | Cable Factory ERP</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg: #f3f3f3;
            --fg: #000000;
            --gray-100: #f3f4f6;
            --gray-300: #d1d5db;
            --positive: #16a34a;
            --negative: #dc2626;
            --accent: #2563eb;
            --turquoise: #00b5ad;
        }
        body { font-family: 'IBM Plex Mono', monospace; background: var(--bg); color: var(--fg); font-size: 12px; line-height: 1.3; }
        .nav { position: sticky; top: 0; z-index: 50; border-bottom: 2px solid var(--fg); background: var(--bg); }
        .nav-container { max-width: 1400px; margin: 0 auto; padding: 0 64px; height: 56px; display: flex; align-items: center; }
        .nav-left { display: flex; align-items: center; gap: 12px; }
        .nav-logo { font-size: 18px; font-weight: 700; letter-spacing: 2px; text-decoration: none; color: var(--fg); }
        .nav-right { margin-left: auto; }
        .nav-link-small { color: var(--fg); text-decoration: underline; font-size: 11px; }
        .nav-divider { color: var(--fg); font-size: 14px; font-weight: 300; }
        .report { max-width: 1400px; margin: 0 auto; padding: 24px 64px; }
        .report h1 { font-size: 28px; margin-bottom: 8px; letter-spacing: 2px; }
        .report h2 { font-size: 18px; margin-top: 36px; margin-bottom: 12px; border-bottom: 2px solid #000; padding-bottom: 4px; }
        .report h3 { font-size: 14px; margin-top: 20px; margin-bottom: 8px; }
        .report h4 { font-size: 12px; margin-top: 14px; margin-bottom: 6px; }
        .report p { font-size: 13px; line-height: 1.6; margin-bottom: 12px; }
        .report ul { font-size: 13px; margin: 12px 0; padding-left: 20px; }
        .report li { margin-bottom: 6px; line-height: 1.5; }
        .report ol { font-size: 13px; margin: 12px 0; padding-left: 20px; }
        .report ol li { margin-bottom: 6px; line-height: 1.5; }
        .report .subtitle { font-size: 14px; color: #666; margin-bottom: 4px; }
        .report .authors { font-size: 12px; color: #888; margin-bottom: 32px; }
        .report code { background: #e5e5e0; padding: 1px 5px; font-size: 12px; }
        .report pre { background: #1a1a2e; color: #e0e0e0; padding: 16px; margin: 12px 0; overflow-x: auto; font-size: 12px; line-height: 1.5; border: 2px solid #000; }
        .report pre .comment { color: #6a9955; }
        .report pre .keyword { color: #569cd6; }
        .report pre .string { color: #ce9178; }
        .report pre .decorator { color: #dcdcaa; }
        .report .abstract { background: #f5f5f0; padding: 16px; margin: 20px 0; border-left: 3px solid #000; }
        .report .finding { background: #fffbe6; padding: 12px; margin: 12px 0; border: 1px solid #e6d600; }
        .report .warning { background: #fee2e2; padding: 12px; margin: 12px 0; border: 1px solid #dc2626; }
        .report .discovery { background: #e6ffe6; padding: 12px; margin: 12px 0; border: 1px solid #0a0; }
        .report .insight { background: #eff6ff; padding: 12px; margin: 12px 0; border: 1px solid #2563eb; }
        .report .philosophy { background: #faf5ff; padding: 12px; margin: 12px 0; border: 1px solid #7c3aed; }
        .stat-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin: 16px 0; }
        .stat-grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 16px 0; }
        .stat-box { background: #f3f4f6; padding: 12px; text-align: center; border: 2px solid #000; }
        .stat-box .value { font-size: 24px; font-weight: bold; }
        .stat-box .label { font-size: 10px; color: #666; margin-top: 2px; }
        .report table { width: auto; border-collapse: collapse; border: 2px solid #000; margin: 16px 0; }
        .report tr:first-child { background: #f3f4f6; border-bottom: 2px solid #000; }
        .report th { padding: 4px 10px; text-align: left; font-size: 0.65rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.03em; white-space: nowrap; border-right: 2px solid #000; background: #f3f4f6; }
        .report th:last-child { border-right: none; }
        .report tr:not(:first-child) { border-bottom: 1px solid #d1d5db; }
        .report tr:last-child { border-bottom: none; }
        .report td { padding: 4px 10px; font-size: 0.75rem; border-right: 2px solid #000; }
        .report td:last-child { border-right: none; }
        .report tr:not(:first-child):hover { background: rgba(0,0,0,0.02); }
        .flow { display: flex; align-items: center; gap: 8px; margin: 16px 0; flex-wrap: wrap; }
        .flow-box { padding: 8px 14px; border: 2px solid #000; font-size: 12px; font-weight: 700; text-align: center; min-width: 100px; }
        .flow-arrow { font-size: 18px; font-weight: 700; }
        .flow-box.done { background: #dcfce7; border-color: #16a34a; }
        .flow-box.active { background: #dbeafe; border-color: #2563eb; }
        .flow-box.pending { background: #f3f4f6; }
        .arch-box { background: #fff; border: 2px solid #000; padding: 16px; margin: 12px 0; }
        .arch-box h4 { font-size: 14px; margin-bottom: 8px; margin-top: 0; }
        .arch-box p { font-size: 12px; line-height: 1.5; }
        .arch-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; margin: 16px 0; }
        .back-link { display: inline-block; font-size: 12px; color: #666; text-decoration: none; margin-bottom: 24px; padding: 8px 0; }
        .back-link:hover { color: #000; }
        .back-link::before { content: "\2190  "; }
        .good { color: #16a34a; font-weight: 700; }
        .bad { color: #dc2626; font-weight: 700; }

        .submod-card { background: #fff; border: 2px solid #000; padding: 16px; margin: 10px 0; display: flex; align-items: flex-start; gap: 16px; }
        .submod-num { background: #000; color: #fff; font-size: 13px; font-weight: 700; min-width: 36px; height: 36px; padding: 0 8px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .submod-body { flex: 1; }
        .submod-body h4 { font-size: 14px; margin: 0 0 4px 0; }
        .submod-body p { font-size: 12px; color: #555; margin: 0 0 6px 0; line-height: 1.4; }
        .submod-tags { display: flex; gap: 6px; flex-wrap: wrap; }
        .submod-tag { font-size: 10px; padding: 2px 6px; background: #f3f4f6; border: 1px solid #d1d5db; }

        @media (max-width: 768px) {
            .report { padding: 16px; }
            .nav-container { padding: 0 16px; }
            .stat-grid, .stat-grid-3 { grid-template-columns: repeat(2, 1fr); }
            .flow { flex-direction: column; align-items: stretch; }
            .flow-arrow { transform: rotate(90deg); text-align: center; }
            .arch-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <div class="nav-left">
                <a href="erp-system.html" class="nav-logo">ERP SYSTEM</a>
            </div>
            <div class="nav-right">
                <a href="erp-mod-teknik-tr.html" class="nav-link-small">TR</a>
                <span class="nav-divider">|</span>
                <a href="erp-mod-teknik.html" class="nav-link-small" style="font-weight: 700;">EN</a>
            </div>
        </div>
    </nav>

    <main class="report">
        <a href="erp-deep-dives.html" class="back-link">Back to Modules</a>
        <h1>TEKNIK &mdash; THE FOUNDATION MODULE</h1>
        <p class="subtitle">Everything downstream depends on this. No order, no production, no test can exist without data defined here.</p>
        <p class="authors">February 2026 &bull; Solen Kablo &bull; Living Document</p>

        <div class="abstract">
            <p style="margin-bottom: 0;"><strong>Teknik is where a cable is born.</strong> Before a single meter of wire is drawn, before a customer order is placed, before a test can be assigned &mdash; someone has to define what cables the factory can produce, what machines exist, what parameters those machines accept, what standards the cables must pass, and what gets printed on them. Teknik holds all of this. It is the single source of truth that every other module reads from but never writes to.</p>
        </div>

        <div class="stat-grid">
            <div class="stat-box">
                <div class="value" style="color: var(--accent);">6</div>
                <div class="label">SUBMODULES</div>
            </div>
            <div class="stat-box">
                <div class="value" style="color: var(--turquoise);">~75</div>
                <div class="label">API ENDPOINTS</div>
            </div>
            <div class="stat-box">
                <div class="value">12</div>
                <div class="label">DATABASE TABLES</div>
            </div>
            <div class="stat-box">
                <div class="value" style="color: var(--positive);">4000+</div>
                <div class="label">LINES OF FRONTEND</div>
            </div>
        </div>

        <!-- ============================================ -->
        <h2>1. WHAT TEKNIK DOES</h2>
        <!-- ============================================ -->

        <p>The Teknik module answers five questions that the entire factory depends on:</p>

        <ol>
            <li><strong>What cables can we produce?</strong> &mdash; Cable Playground designs them. Cable Database stores the approved results. Every cable is defined as an ordered sequence of machine steps with exact parameters.</li>
            <li><strong>What machines do we have?</strong> &mdash; Machine Management registers all 7 machine types with their physical capabilities (speed ranges, diameter limits, thickness ranges). The Playground uses these to validate that a design is physically producible.</li>
            <li><strong>What quality standards must be met?</strong> &mdash; Standards Management defines every test (IEC-EN, UL, SLN) with parameters, pass/fail criteria, and test frequencies. These are linked to cable designs &mdash; each design knows exactly which tests it requires at which production step.</li>
            <li><strong>What gets printed on the cable?</strong> &mdash; Markalama defines the ordered word arrays that the extruder prints during production (company name, standard, voltage, cross-section, etc.).</li>
            <li><strong>Who operates the machines?</strong> &mdash; Operator Management maintains the registry of production operators who are assigned to sessions.</li>
        </ol>

        <div class="finding">
            <p style="margin-bottom: 0;"><strong>Zero dependencies.</strong> Teknik depends on no other business module. It reads only from the <code>users</code> table (for <code>created_by</code> tracking). Every other module &mdash; Sipari&scedil;, &Uuml;retim, Lab, Stok &mdash; depends on Teknik. This makes it the foundation layer of the entire system.</p>
        </div>

        <!-- ============================================ -->
        <h2>2. THE DATA FLOW</h2>
        <!-- ============================================ -->

        <p>Data flows in one direction: from Teknik outward. Here is how each submodule feeds the rest of the system.</p>

        <div class="flow">
            <div class="flow-box" style="background: #faf5ff; border-color: #7c3aed;">MACHINES<br><span style="font-size:9px;color:#666;">Define capabilities</span></div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #eff6ff; border-color: #2563eb;">PLAYGROUND<br><span style="font-size:9px;color:#666;">Design cables</span></div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #dcfce7; border-color: #16a34a;">CABLE DB<br><span style="font-size:9px;color:#666;">Store approved</span></div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #fffbe6; border-color: #f59e0b;">ORDERS<br><span style="font-size:9px;color:#666;">Select cables</span></div>
        </div>

        <div class="flow">
            <div class="flow-box" style="background: #faf5ff; border-color: #7c3aed;">STANDARDS<br><span style="font-size:9px;color:#666;">Define tests</span></div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #eff6ff; border-color: #2563eb;">PLAYGROUND<br><span style="font-size:9px;color:#666;">Assign to steps</span></div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #dcfce7; border-color: #16a34a;">CABLE DB<br><span style="font-size:9px;color:#666;">Store requirements</span></div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #fce7f3; border-color: #db2777;">LAB<br><span style="font-size:9px;color:#666;">Execute tests</span></div>
        </div>

        <p>The Cable Database is the convergence point. It stores the finalized design as structured JSON: the complete production flow, every half-product that will be created, the bill of raw materials, and all test requirements. When Sipari&scedil; calculates material needs or &Uuml;retim generates work cards, they read from Cable Database &mdash; never from the Playground or Machines directly.</p>

        <!-- ============================================ -->
        <h2>3. THE DATABASE LAYER</h2>
        <!-- ============================================ -->

        <p>12 tables serve the Teknik module. They fall into four groups:</p>

        <h3>Machine Tables (7)</h3>
        <p>One table per machine type. Each stores the physical capabilities of that machine as min/max/increment ranges. The system generates dropdown options by stepping through these ranges.</p>

        <table>
            <tr><th>Table</th><th>Unique Config</th><th>Input Code</th></tr>
            <tr><td><code>kabatel_cekme_machines</code></td><td>speed, tav (anneal current), output diameter</td><td>A</td></tr>
            <tr><td><code>kalaylama_machines</code></td><td>speed, tin thickness (&mu;m)</td><td>X</td></tr>
            <tr><td><code>incetel_cekme_machines</code></td><td>speed, input count, output diameter, tav</td><td>&mdash;</td></tr>
            <tr><td><code>buncher_machines</code></td><td>speed, hatve (lay length), input count</td><td>Z,T,U</td></tr>
            <tr><td><code>extruder_machines</code></td><td>speed, insulation thickness, sheath thickness</td><td>T,Z</td></tr>
            <tr><td><code>ebeam_machines</code></td><td>speed, radiation level (kGy)</td><td>&mdash;</td></tr>
            <tr><td><code>aktarma_machines</code></td><td>(brand/model only)</td><td>&mdash;</td></tr>
        </table>

        <p>Every configurable parameter has a database-level <code>CHECK</code> constraint: <code>max &gt; min</code>, <code>increment &gt; 0</code>, <code>min &ge; 0</code>. This means invalid machine configurations are impossible to save &mdash; the database itself enforces physical sanity.</p>

        <h3>Design Tables (3)</h3>

        <table>
            <tr><th>Table</th><th>Purpose</th><th>Key Fields</th></tr>
            <tr><td><code>cable_designs</code></td><td>Design sessions from the Playground</td><td><code>design_code</code> (unique), <code>standard</code> (EN/UL/SLN), <code>cross_section</code>, <code>design_data</code> (JSON)</td></tr>
            <tr><td><code>design_steps</code></td><td>Individual production steps within a design</td><td><code>step_number</code>, <code>machine_type</code>, <code>configuration</code> (JSON), <code>inputs/outputs</code> (JSON), <code>tests</code> (JSON)</td></tr>
            <tr><td><code>cable_database</code></td><td>Finalized, approved cable definitions</td><td><code>cable_code</code> (unique), <code>production_flow</code> (JSON), <code>half_products</code> (JSON), <code>raw_materials</code> (JSON), <code>test_requirements</code> (JSON)</td></tr>
        </table>

        <p>The relationship: <code>CableDesign</code> &rarr; many <code>DesignStep</code> (cascade delete) &rarr; one <code>CableDatabase</code> entry on finalize. The Cable Database stores everything as denormalized JSON blobs &mdash; intentionally. When the Material Calculator needs to compute copper requirements for an order, it reads one row from <code>cable_database</code> and has the complete production flow without any joins.</p>

        <h3>Quality Tables (2)</h3>

        <table>
            <tr><th>Table</th><th>Purpose</th><th>Key Fields</th></tr>
            <tr><td><code>test_standards</code></td><td>Test definitions</td><td><code>standard_category</code> (IEC-EN/UL/SLN), <code>test_name</code>, <code>standard_number</code>, <code>test_samples</code></td></tr>
            <tr><td><code>test_parameters</code></td><td>Parameters within a test</td><td><code>parameter_name</code>, <code>parameter_unit</code>, <code>parameter_order</code>, <code>is_required</code></td></tr>
        </table>

        <p>A test standard has N parameters (cascade delete). When a test is assigned to a design step in the Playground, the standard ID and frequency (start/end/every reel) are embedded in the step&rsquo;s JSON. This means the Cable Database carries the complete test map &mdash; Lab knows exactly what to test and when, without querying Teknik at production time.</p>

        <h3>Supporting Tables</h3>

        <table>
            <tr><th>Table</th><th>Purpose</th></tr>
            <tr><td><code>product_codes</code></td><td>SHA-256 hashed product identifiers for stock deduplication. <code>system_code</code> (human-readable, e.g. <code>HALF_BN_73X030</code>) + <code>spec_hash</code> (deterministic hash of specifications). Ensures identical products across different designs share the same stock pool.</td></tr>
            <tr><td><code>markings</code></td><td>Cable printing templates. <code>name</code> (unique) + <code>words</code> (JSON array of strings). Each order-cable references a marking.</td></tr>
            <tr><td><code>production_operators</code></td><td>Operator registry. <code>name</code> (unique). Referenced by production sessions.</td></tr>
        </table>

        <!-- ============================================ -->
        <h2>4. THE BACKEND ARCHITECTURE</h2>
        <!-- ============================================ -->

        <p>The Teknik backend is split into <strong>6 route files</strong> mounted under <code>/api/teknik/</code> and <strong>6 utility modules</strong> that power the Playground&rsquo;s simulation engine.</p>

        <h3>Route Files</h3>
        <table>
            <tr><th>File</th><th>Prefix</th><th>Endpoints</th><th>Responsibility</th></tr>
            <tr><td><code>machine_routes.py</code></td><td>/teknik/machines</td><td>~45</td><td>CRUD + options for 7 machine types</td></tr>
            <tr><td><code>design_routes.py</code></td><td>/teknik/design</td><td>~22</td><td>Playground sessions, steps, config, undo/redo, finalize</td></tr>
            <tr><td><code>cable_database_routes.py</code></td><td>/teknik/cable-database</td><td>~15</td><td>Approved cables, product codes, analytics</td></tr>
            <tr><td><code>standards_routes.py</code></td><td>/teknik/standards</td><td>~12</td><td>Test standards, parameters, results</td></tr>
            <tr><td><code>marking_routes.py</code></td><td>/markings</td><td>~6</td><td>Marking template CRUD</td></tr>
            <tr><td><code>operator_routes.py</code></td><td>/operators</td><td>~4</td><td>Operator CRUD</td></tr>
        </table>

        <h3>Playground Engine (6 utility modules)</h3>
        <p>The Cable Playground is not a simple CRUD page &mdash; it is a <strong>real-time simulation engine</strong> that runs entirely in-memory on the backend. These are the modules that make it work:</p>

        <div class="arch-grid">
            <div class="arch-box">
                <h4>Session Manager</h4>
                <p>In-memory session storage. Each design session has a unique ID, a step counter, undo/redo stacks (max 50 states), autosave timer (default 30s), and checkpoint/restore for atomic transactions.</p>
            </div>
            <div class="arch-box">
                <h4>Progression Engine</h4>
                <p>Tracks what exists after each step. Items have codes, quantities, statuses (active/consumed). Each machine type has its own processing function that consumes inputs and produces outputs with correct codes (e.g., <code>BN_73X030</code>).</p>
            </div>
            <div class="arch-box">
                <h4>Form Integration</h4>
                <p>Populates frontend dropdowns from database + current progression state. Filters available inputs per machine type (e.g., Buncher only sees Z/T/U coded items). Validates quantities before configuration.</p>
            </div>
            <div class="arch-box">
                <h4>DB Integration</h4>
                <p>Reads real machine tables. Calculates capability intersection when multiple machines are selected &mdash; returns only parameter values ALL selected machines can produce.</p>
            </div>
            <div class="arch-box">
                <h4>Validation Engine</h4>
                <p>Two validators: <code>MachineValidator</code> checks configs against machine ranges. <code>ProductionFlowValidator</code> checks step sequences, parallel groups, and test assignments.</p>
            </div>
            <div class="arch-box">
                <h4>Code Generator</h4>
                <p>Deterministic product code generation. SHA-256 spec hashing for stock deduplication. Human-readable system codes (e.g., <code>HALF_KC_180</code>). Final cable codes encode standard, cross-section, structure, and layer thicknesses.</p>
            </div>
        </div>

        <!-- ============================================ -->
        <h2>5. THE FRONTEND</h2>
        <!-- ============================================ -->

        <p>7 pages under <code>/teknik/*</code>, protected by the <code>canTeknik</code> access flag. All pages use Ant Design Pro&rsquo;s <code>ProTable</code> with Turkish locale, client-side search, and blurred backdrop modals.</p>

        <table>
            <tr><th>Route</th><th>Page</th><th>Lines</th><th>Complexity</th></tr>
            <tr><td>/teknik/dashboard</td><td>Dashboard</td><td>~400</td><td>Stats, quick actions, recent designs</td></tr>
            <tr><td>/teknik/playground</td><td>Cable Playground</td><td>~4,300</td><td>SVG canvas, 6 config forms, 3 view modes, undo/redo, autosave</td></tr>
            <tr><td>/teknik/cable-database</td><td>Cable Database</td><td>~690</td><td>Table + detail drawer with 3 tabs</td></tr>
            <tr><td>/teknik/machines</td><td>Machine Management</td><td>~730</td><td>7 machine tabs, dynamic forms</td></tr>
            <tr><td>/teknik/standards</td><td>Standards</td><td>~550</td><td>Standards CRUD + parameter forms</td></tr>
            <tr><td>/teknik/markalama</td><td>Markalama</td><td>~370</td><td>Marking templates with word arrays</td></tr>
            <tr><td>/teknik/operator-yonetimi</td><td>Operators</td><td>~280</td><td>Simple name CRUD</td></tr>
        </table>

        <p>The Cable Playground alone accounts for more than half the frontend code. It is built as a modular component system: a <code>usePlayground</code> hook manages state and API calls, <code>FlowCanvas</code> renders the SVG diagram, <code>MachineLibrary</code> is the sidebar palette, <code>ConfigurationDrawer</code> holds 6 machine-specific forms (1,215 lines), and <code>ProgressionPanel</code> shows real-time material tracking.</p>

        <!-- ============================================ -->
        <h2>6. THE SUBMODULES</h2>
        <!-- ============================================ -->

        <p>The sections that follow document each submodule in full detail &mdash; every form field, every API endpoint, every database column, every validation rule, and the design decisions behind them. Ordered from foundational data to the tools that consume it.</p>

        <div class="submod-card">
            <div class="submod-num">6.1</div>
            <div class="submod-body">
                <h4>Machine Management</h4>
                <p>CRUD for all 7 factory machine types. Each type has a unique configuration schema with min/max/increment ranges. The Playground reads these to validate that designs are physically producible.</p>
                <div class="submod-tags">
                    <span class="submod-tag">~45 ENDPOINTS</span>
                    <span class="submod-tag">7 MACHINE TYPES</span>
                    <span class="submod-tag">DB CHECK CONSTRAINTS</span>
                </div>
            </div>
        </div>

        <div class="submod-card">
            <div class="submod-num">6.2</div>
            <div class="submod-body">
                <h4>Standards Management</h4>
                <p>Test standard definitions with dynamic parameters, pass/fail criteria, and test frequency rules. Linked to cable designs at the step level &mdash; the Lab module reads these to know what to test and when.</p>
                <div class="submod-tags">
                    <span class="submod-tag">12 ENDPOINTS</span>
                    <span class="submod-tag">3 CATEGORIES</span>
                    <span class="submod-tag">DYNAMIC PARAMETERS</span>
                </div>
            </div>
        </div>

        <div class="submod-card">
            <div class="submod-num">6.3</div>
            <div class="submod-body">
                <h4>Operator Management</h4>
                <p>Production operator registry. Operators are assigned to production sessions by the person starting the session &mdash; they don&rsquo;t need system logins. Simple name CRUD with uniqueness constraint.</p>
                <div class="submod-tags">
                    <span class="submod-tag">4 ENDPOINTS</span>
                    <span class="submod-tag">SIMPLE CRUD</span>
                </div>
            </div>
        </div>

        <div class="submod-card">
            <div class="submod-num">6.4</div>
            <div class="submod-body">
                <h4>Markalama (Cable Marking)</h4>
                <p>Marking templates define the text printed on cables during extrusion. Stored as ordered word arrays with variable support (<code>{CABLE_SIZE}</code>, <code>{YEAR}</code>, etc.). Each order-cable references a marking template.</p>
                <div class="submod-tags">
                    <span class="submod-tag">6 ENDPOINTS</span>
                    <span class="submod-tag">WORD ARRAYS</span>
                    <span class="submod-tag">VARIABLES</span>
                </div>
            </div>
        </div>

        <div class="submod-card">
            <div class="submod-num">6.5</div>
            <div class="submod-body">
                <h4>Cable Playground</h4>
                <p>The visual cable design workshop. Drag machines onto a canvas, configure parameters, watch the production flow build in real-time. Session-based, in-memory simulation with undo/redo, autosave, and three view modes. Where all foundational data &mdash; machines, standards, operators, markings &mdash; converges into a cable design.</p>
                <div class="submod-tags">
                    <span class="submod-tag">22 ENDPOINTS</span>
                    <span class="submod-tag">4,300 LOC</span>
                    <span class="submod-tag">6 UTILITY MODULES</span>
                    <span class="submod-tag">SVG CANVAS</span>
                </div>
            </div>
        </div>

        <div class="submod-card">
            <div class="submod-num">6.6</div>
            <div class="submod-body">
                <h4>Cable Database</h4>
                <p>The library of approved cable designs. Each entry stores the complete production flow, half-product tree, bill of materials, and test requirements as structured JSON. The single source of truth for Orders and Production.</p>
                <div class="submod-tags">
                    <span class="submod-tag">15 ENDPOINTS</span>
                    <span class="submod-tag">SHA-256 PRODUCT CODES</span>
                    <span class="submod-tag">ANALYTICS</span>
                </div>
            </div>
        </div>

        <div class="philosophy">
            <p style="margin-bottom: 0;"><strong>What follows:</strong> Each submodule above will be expanded into a full section with database schemas, complete API endpoint documentation, frontend form fields, validation rules, code snippets, and the reasoning behind key design decisions.</p>
        </div>

        <!-- ============================================ -->
        <h2>6.1 MACHINE MANAGEMENT</h2>
        <!-- ============================================ -->

        <p>Before you can design a cable, you need to tell the system what machines the factory has. Machine Management is the registry of every physical machine on the production floor &mdash; its brand, model, and most importantly, its <strong>capability ranges</strong>. These ranges (speed min/max, diameter min/max, etc.) are used throughout the system to generate dropdown options and validate that a cable design is physically producible.</p>

        <div class="insight">
            <p style="margin-bottom: 0;"><strong>Why one table per machine type?</strong> Each machine type has fundamentally different configurable parameters. A Kabatel &Ccedil;ekme has tav (anneal current) and output diameter. A Buncher has hatve (lay length) and input count. An Aktarma has no parameters at all. Rather than a single table with dozens of nullable columns, each type gets its own table with exactly the columns it needs. The database CHECK constraints can then enforce physical sanity per machine type.</p>
        </div>

        <h3>6.1.1 The Seven Machine Types</h3>

        <p>The factory&rsquo;s production line consists of 7 machine types, each performing a specific step in the cable manufacturing process:</p>

        <table>
            <tr><th>#</th><th>Machine Type</th><th>Turkish Name</th><th>What It Does</th><th>Configurable Parameters</th></tr>
            <tr><td>1</td><td>Kabatel &Ccedil;ekme</td><td>Kabatel &Ccedil;ekme</td><td>Draws thick copper rod (8mm filma&scedil;in) into thinner wire</td><td>Speed (m/s), TAV (A), Output Diameter (mm)</td></tr>
            <tr><td>2</td><td>Kalaylama</td><td>Kalaylama</td><td>Coats drawn wire with tin for conductivity and corrosion resistance</td><td>Speed (m/s), Tin Thickness (&mu;m)</td></tr>
            <tr><td>3</td><td>&Idot;ncetel &Ccedil;ekme</td><td>&Idot;ncetel &Ccedil;ekme</td><td>Draws wire to even finer diameters, optionally from multiple inputs</td><td>Speed (m/s), Input Count, Output Diameter (mm), TAV (A)</td></tr>
            <tr><td>4</td><td>Buncher</td><td>Buncher</td><td>Twists multiple wires into a bundle (strand)</td><td>Speed (m/s), Hatve/Lay Length, Input Count, Twist Direction (S/Z)</td></tr>
            <tr><td>5</td><td>Extruder</td><td>Ekstr&uuml;der</td><td>Applies insulation and/or sheath layers (plastic coating)</td><td>Speed (m/s), Insulation Thickness (mm), Sheath Thickness (mm)</td></tr>
            <tr><td>6</td><td>E-beam</td><td>E-beam</td><td>Cross-links insulation via electron beam radiation</td><td>Speed (m/s), Radiation Level (kGy)</td></tr>
            <tr><td>7</td><td>Aktarma</td><td>Aktarma</td><td>Transfers/rewinds cable between spools (no transformation)</td><td>None (brand/model only)</td></tr>
        </table>

        <h3>6.1.2 Database Schema</h3>

        <p>7 tables, one per machine type. All share a common structure (id, brand, model, is_active, created_by, timestamps) plus type-specific parameter columns stored as min/max/increment triplets.</p>

        <h4>Common Columns (all 7 tables)</h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Nullable</th><th>Default</th><th>Notes</th></tr>
            <tr><td><code>id</code></td><td>Integer</td><td>No</td><td>Auto</td><td>Primary key, indexed</td></tr>
            <tr><td><code>brand</code></td><td>String(100)</td><td>No</td><td>&mdash;</td><td>Machine manufacturer</td></tr>
            <tr><td><code>model</code></td><td>String(100)</td><td>Yes</td><td>NULL</td><td>Machine model designation</td></tr>
            <tr><td><code>is_active</code></td><td>Boolean</td><td>No</td><td>True</td><td>Indexed; soft-delete flag</td></tr>
            <tr><td><code>created_by</code></td><td>Integer</td><td>Yes</td><td>NULL</td><td>FK &rarr; <code>users.id</code></td></tr>
            <tr><td><code>created_at</code></td><td>DateTime</td><td>No</td><td>utcnow</td><td>Creation timestamp</td></tr>
            <tr><td><code>updated_at</code></td><td>DateTime</td><td>No</td><td>utcnow</td><td>Auto-updates on change</td></tr>
        </table>

        <h4>Kabatel &Ccedil;ekme &mdash; <code>kabatel_cekme_machines</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Unit</th><th>CHECK Constraint</th></tr>
            <tr><td><code>speed_min</code></td><td>Float</td><td>m/s</td><td>&ge; 0</td></tr>
            <tr><td><code>speed_max</code></td><td>Float</td><td>m/s</td><td>&gt; speed_min</td></tr>
            <tr><td><code>speed_increment</code></td><td>Float</td><td>m/s</td><td>&gt; 0</td></tr>
            <tr><td><code>tav_min</code></td><td>Float</td><td>Ampere</td><td>&ge; 0</td></tr>
            <tr><td><code>tav_max</code></td><td>Float</td><td>Ampere</td><td>&gt; tav_min</td></tr>
            <tr><td><code>tav_increment</code></td><td>Float</td><td>Ampere</td><td>&gt; 0</td></tr>
            <tr><td><code>output_min</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>output_max</code></td><td>Float</td><td>mm</td><td>&gt; output_min</td></tr>
            <tr><td><code>output_increment</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>input_type</code></td><td>String(50)</td><td>&mdash;</td><td>Default: <code>'8mm_filma&scedil;in'</code></td></tr>
            <tr><td><code>input_code</code></td><td>String(10)</td><td>&mdash;</td><td>Default: <code>'A'</code></td></tr>
        </table>

        <h4>Kalaylama &mdash; <code>kalaylama_machines</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Unit</th><th>CHECK Constraint</th></tr>
            <tr><td><code>speed_min</code></td><td>Float</td><td>m/s</td><td>&ge; 0</td></tr>
            <tr><td><code>speed_max</code></td><td>Float</td><td>m/s</td><td>&gt; speed_min</td></tr>
            <tr><td><code>speed_increment</code></td><td>Float</td><td>m/s</td><td>&gt; 0</td></tr>
            <tr><td><code>thickness_min</code></td><td>Float</td><td>&mu;m</td><td>&gt; 0</td></tr>
            <tr><td><code>thickness_max</code></td><td>Float</td><td>&mu;m</td><td>&gt; thickness_min</td></tr>
            <tr><td><code>thickness_increment</code></td><td>Float</td><td>&mu;m</td><td>&gt; 0</td></tr>
            <tr><td><code>input_code</code></td><td>String(10)</td><td>&mdash;</td><td>Default: <code>'X'</code></td></tr>
        </table>

        <h4>&Idot;ncetel &Ccedil;ekme &mdash; <code>incetel_cekme_machines</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Unit</th><th>CHECK Constraint</th></tr>
            <tr><td><code>speed_min/max/increment</code></td><td>Float</td><td>m/s</td><td>Same pattern as above</td></tr>
            <tr><td><code>input_number_min</code></td><td>Integer</td><td>&mdash;</td><td>&ge; 1</td></tr>
            <tr><td><code>input_number_max</code></td><td>Integer</td><td>&mdash;</td><td>&ge; input_number_min</td></tr>
            <tr><td><code>output_min/max/increment</code></td><td>Float</td><td>mm</td><td>Same pattern as above</td></tr>
            <tr><td><code>tav_min/max/increment</code></td><td>Float</td><td>Ampere</td><td>Same pattern as above</td></tr>
        </table>

        <h4>Buncher &mdash; <code>buncher_machines</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Unit</th><th>CHECK Constraint</th></tr>
            <tr><td><code>speed_min/max/increment</code></td><td>Float</td><td>m/s</td><td>Same pattern</td></tr>
            <tr><td><code>hatve_min</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>hatve_max</code></td><td>Float</td><td>mm</td><td>&gt; hatve_min</td></tr>
            <tr><td><code>hatve_increment</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>input_number_min</code></td><td>Integer</td><td>&mdash;</td><td>&ge; 0</td></tr>
            <tr><td><code>input_number_max</code></td><td>Integer</td><td>&mdash;</td><td>&ge; input_number_min</td></tr>
            <tr><td><code>accepted_input_codes</code></td><td>Text</td><td>&mdash;</td><td>Default: <code>'Z,T,U'</code></td></tr>
        </table>

        <h4>Extruder &mdash; <code>extruder_machines</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Unit</th><th>CHECK Constraint</th></tr>
            <tr><td><code>speed_min/max/increment</code></td><td>Float</td><td>m/s</td><td>Same pattern</td></tr>
            <tr><td><code>insulation_thickness_min</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>insulation_thickness_max</code></td><td>Float</td><td>mm</td><td>&gt; insulation_thickness_min</td></tr>
            <tr><td><code>insulation_thickness_increment</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>sheath_thickness_min</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>sheath_thickness_max</code></td><td>Float</td><td>mm</td><td>&gt; sheath_thickness_min</td></tr>
            <tr><td><code>sheath_thickness_increment</code></td><td>Float</td><td>mm</td><td>&gt; 0</td></tr>
            <tr><td><code>accepted_input_codes</code></td><td>Text</td><td>&mdash;</td><td>Default: <code>'T,Z'</code></td></tr>
        </table>

        <h4>E-beam &mdash; <code>ebeam_machines</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Unit</th><th>CHECK Constraint</th></tr>
            <tr><td><code>speed_min/max/increment</code></td><td>Float</td><td>m/s</td><td>Same pattern</td></tr>
            <tr><td><code>radiation_level_min</code></td><td>Float</td><td>kGy</td><td>&gt; 0</td></tr>
            <tr><td><code>radiation_level_max</code></td><td>Float</td><td>kGy</td><td>&gt; radiation_level_min</td></tr>
            <tr><td><code>radiation_level_increment</code></td><td>Float</td><td>kGy</td><td>&gt; 0</td></tr>
        </table>

        <h4>Aktarma &mdash; <code>aktarma_machines</code></h4>
        <p>No configurable parameters. Only the common columns (brand, model, is_active, timestamps). No CHECK constraints beyond the common ones.</p>

        <h3>6.1.3 Options Generation &mdash; The Core Mechanism</h3>

        <p>This is the mechanism that makes the entire Machine Management &rarr; Playground pipeline work. When the Playground needs to show dropdown options for a machine parameter, it calls the <code>/options</code> endpoint, which steps through the min/max/increment range and returns every valid value.</p>

        <pre><span class="keyword">def</span> generate_dropdown_options(min_val, max_val, increment):
    options = []
    current = min_val
    <span class="keyword">while</span> current <= max_val:
        options.append(<span class="keyword">round</span>(current, <span class="string">4</span>))  <span class="comment"># Avoid floating point drift</span>
        current += increment
    <span class="keyword">return</span> options

<span class="comment"># Example: machine with speed_min=5, speed_max=25, speed_increment=5</span>
<span class="comment"># â†’ [5.0, 10.0, 15.0, 20.0, 25.0]</span></pre>

        <p><strong>Special cases:</strong></p>
        <ul>
            <li><strong>Integer ranges</strong> (&Idot;ncetel &Ccedil;ekme &amp; Buncher input counts): Uses <code>list(range(min, max + 1))</code> instead of float stepping &mdash; because you can&rsquo;t have 3.5 input wires.</li>
            <li><strong>Hardcoded values</strong> (Buncher twist direction): Returns <code>["S", "Z"]</code> directly &mdash; these are the only two possible twist directions in cable manufacturing.</li>
            <li><strong>No options</strong> (Aktarma): Has no <code>/options</code> endpoint at all &mdash; nothing to configure.</li>
        </ul>

        <div class="finding">
            <p style="margin-bottom: 0;"><strong>Multi-machine intersection:</strong> When the Playground selects multiple machines of the same type, the system calculates the <em>intersection</em> of their capability ranges. If Machine A supports speeds [5, 10, 15, 20] and Machine B supports [10, 15, 20, 25], the dropdown shows [10, 15, 20]. This lives in the Playground&rsquo;s <code>db_integration.py</code>, not here &mdash; but it consumes the options generated by this module.</p>
        </div>

        <h3>6.1.4 API Endpoints</h3>

        <p>38 total endpoints. Each machine type gets 5&ndash;6 endpoints following a consistent pattern (except Aktarma which has no <code>/options</code>).</p>

        <h4>Pattern per machine type (replace <code>{type}</code> with e.g. <code>kabatel-cekme</code>)</h4>
        <table>
            <tr><th>Method</th><th>Path</th><th>Permission</th><th>What It Does</th></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/machines/{type}</code></td><td>Authenticated</td><td>List all machines. <code>?active_only=true</code> (default). Ordered by brand, model.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/machines/{type}/{id}</code></td><td>Authenticated</td><td>Single machine detail. Returns 404 if not found.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/machines/{type}/{id}/options</code></td><td>Authenticated</td><td>Generate dropdown values from min/max/increment ranges.</td></tr>
            <tr><td><code>POST</code></td><td><code>/teknik/machines/{type}</code></td><td>super_admin, production_manager</td><td>Create machine. Sets <code>created_by</code>. Broadcasts real-time update.</td></tr>
            <tr><td><code>PUT</code></td><td><code>/teknik/machines/{type}/{id}</code></td><td>super_admin, production_manager</td><td>Partial update. Only provided fields are changed.</td></tr>
            <tr><td><code>DELETE</code></td><td><code>/teknik/machines/{type}/{id}</code></td><td>super_admin only</td><td>Hard delete. Returns 204 No Content.</td></tr>
        </table>

        <h4>Common endpoints</h4>
        <table>
            <tr><th>Method</th><th>Path</th><th>What It Does</th></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/machines/types</code></td><td>Returns all 7 type names as string array</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/machines/all</code></td><td>Returns all machines of all types in one response, keyed by type name</td></tr>
        </table>

        <h4>Options response shapes per type</h4>
        <table>
            <tr><th>Machine Type</th><th>Options Fields</th></tr>
            <tr><td>Kabatel &Ccedil;ekme</td><td><code>speeds</code>, <code>tavs</code>, <code>output_diameters</code></td></tr>
            <tr><td>Kalaylama</td><td><code>speeds</code>, <code>thicknesses</code></td></tr>
            <tr><td>&Idot;ncetel &Ccedil;ekme</td><td><code>speeds</code>, <code>input_numbers</code> (int), <code>output_diameters</code>, <code>tavs</code></td></tr>
            <tr><td>Buncher</td><td><code>speeds</code>, <code>hatves</code>, <code>input_numbers</code> (int), <code>twist_directions</code> (hardcoded S/Z)</td></tr>
            <tr><td>Extruder</td><td><code>speeds</code>, <code>insulation_thicknesses</code>, <code>sheath_thicknesses</code></td></tr>
            <tr><td>E-beam</td><td><code>speeds</code>, <code>radiation_levels</code></td></tr>
            <tr><td>Aktarma</td><td>&mdash; (no options endpoint)</td></tr>
        </table>

        <h3>6.1.5 Permission Model</h3>

        <p>Uses <code>check_permission_smart()</code> which supports both the legacy user_type system and the granular permission system:</p>

        <table>
            <tr><th>Action</th><th>Legacy Roles</th><th>Granular Permission</th></tr>
            <tr><td>View / List / Options</td><td>Any authenticated user</td><td>Any authenticated user</td></tr>
            <tr><td>Create / Update</td><td>super_admin, production_manager</td><td><code>teknik.machines.create</code> / <code>teknik.machines.edit</code></td></tr>
            <tr><td>Delete</td><td>super_admin only</td><td><code>teknik.machines.delete</code></td></tr>
        </table>

        <h3>6.1.6 Frontend &mdash; The Machines Page</h3>

        <p>Single file: <code>pages/Teknik/Machines/index.tsx</code> (726 lines). Route: <code>/teknik/machines</code>, protected by <code>canTeknik</code> access flag.</p>

        <h4>Page Structure</h4>
        <p>A <code>PageContainer</code> wrapping a <code>Card</code> with 7 <code>Tabs</code> &mdash; one per machine type. Switching tabs fetches the machine list for that type and resets the search text. Default tab: Kabatel &Ccedil;ekme.</p>

        <h4>Table Columns</h4>
        <p>Every tab shows a <code>ProTable</code> with these base columns plus type-specific ones:</p>
        <table>
            <tr><th>Column</th><th>Width</th><th>Notes</th></tr>
            <tr><td>ID</td><td>60px</td><td>Fixed left</td></tr>
            <tr><td>Marka (Brand)</td><td>auto</td><td>Ellipsis enabled</td></tr>
            <tr><td>Model</td><td>auto</td><td>Shows &ldquo;-&rdquo; if empty</td></tr>
            <tr><td><em>Type-specific ranges</em></td><td>auto</td><td>Formatted as &ldquo;min&ndash;max unit&rdquo;</td></tr>
            <tr><td>Durum (Status)</td><td>80px</td><td>Green &ldquo;Aktif&rdquo; / Red &ldquo;Pasif&rdquo; tag</td></tr>
            <tr><td>&Idot;&scedil;lemler (Actions)</td><td>100px</td><td>Fixed right; edit + delete icons</td></tr>
        </table>

        <p><strong>Type-specific columns:</strong></p>
        <ul>
            <li><strong>Kabatel &Ccedil;ekme:</strong> H&#305;z Aral&#305;&#287;&#305; (speed_min&ndash;speed_max m/s), Tav Aral&#305;&#287;&#305; (tav_min&ndash;tav_max A), &Ccedil;&#305;k&#305;&scedil; &Ccedil;ap&#305; (output_min&ndash;output_max mm)</li>
            <li><strong>Kalaylama:</strong> H&#305;z Aral&#305;&#287;&#305;, Kalay Kal&#305;nl&#305;&#287;&#305; (thickness_min&ndash;thickness_max &mu;m)</li>
            <li><strong>&Idot;ncetel &Ccedil;ekme:</strong> Girdi Say&#305;s&#305; (input_number_min&ndash;max), &Ccedil;&#305;k&#305;&scedil; &Ccedil;ap&#305;, Tav Aral&#305;&#287;&#305;</li>
            <li><strong>Buncher:</strong> Girdi Say&#305;s&#305;, Hatve Aral&#305;&#287;&#305; (hatve_min&ndash;max)</li>
            <li><strong>Extruder:</strong> &Idot;zolasyon Kal&#305;nl&#305;&#287;&#305; (insulation min&ndash;max mm), K&#305;l&#305;f Kal&#305;nl&#305;&#287;&#305; (sheath min&ndash;max mm)</li>
            <li><strong>E-beam:</strong> H&#305;z Aral&#305;&#287;&#305;, Radyasyon Seviyesi (radiation_level_min&ndash;max kGy)</li>
            <li><strong>Aktarma:</strong> Base columns only</li>
        </ul>

        <h4>Search &amp; Pagination</h4>
        <p><strong>Search</strong> is client-side: a text input filters the loaded list by ID, brand, model, or status (&ldquo;aktif&rdquo;/&ldquo;pasif&rdquo;). No server-side search needed because machine counts are small (typically &lt;50 per type).</p>
        <p><strong>Pagination</strong> defaults to 10 rows, with options [10, 20, 50, 100]. Total shown as &ldquo;X-Y / Z kay&#305;t&rdquo;.</p>

        <h4>CRUD Flow</h4>

        <p><strong>Create:</strong></p>
        <ol>
            <li>Click &ldquo;Yeni Makine Ekle&rdquo; button in the toolbar</li>
            <li>Modal opens with title &ldquo;Yeni Makine Ekle&rdquo; (600px, blurred backdrop)</li>
            <li>Form shows fields dynamically based on active tab (machine type)</li>
            <li>On submit: <code>POST /api/teknik/machines/{type}</code> with form values</li>
            <li>System fields (<code>id</code>, <code>created_at</code>, <code>updated_at</code>, <code>created_by</code>, <code>input_type</code>, <code>input_code</code>, <code>accepted_input_codes</code>) are automatically excluded</li>
            <li>On success: toast &ldquo;Makine ba&scedil;ar&#305;yla eklendi!&rdquo;, close modal, refresh list</li>
        </ol>

        <p><strong>Edit:</strong></p>
        <ol>
            <li>Click edit icon in the Actions column</li>
            <li>Modal opens with title &ldquo;Makine D&uuml;zenle&rdquo;, pre-filled with current values</li>
            <li>On submit: <code>PUT /api/teknik/machines/{type}/{id}</code> with changed fields only</li>
            <li>On success: toast &ldquo;Makine ba&scedil;ar&#305;yla g&uuml;ncellendi!&rdquo;, close modal, refresh list</li>
        </ol>

        <p><strong>Delete:</strong></p>
        <ol>
            <li>Click delete icon in the Actions column</li>
            <li><code>Popconfirm</code> asks: &ldquo;Bu makineyi devre d&#305;&scedil;&#305; b&#305;rakmak istedi&#287;inize emin misiniz?&rdquo;</li>
            <li>Delete button is disabled if machine is already inactive</li>
            <li>On confirm: <code>DELETE /api/teknik/machines/{type}/{id}</code></li>
            <li>On success: toast &ldquo;Makine devre d&#305;&scedil;&#305; b&#305;rak&#305;ld&#305;!&rdquo;, refresh list</li>
        </ol>

        <h4>Form Fields Per Machine Type</h4>
        <p>The form renders dynamically via <code>renderFormFields()</code> based on the active tab. Common fields (Marka, Model) appear for all types. Type-specific fields use <code>InputNumber</code> with appropriate <code>min</code>, <code>step</code>, and Turkish labels:</p>

        <table>
            <tr><th>Machine Type</th><th>Form Fields (beyond Marka/Model)</th></tr>
            <tr><td>Kabatel &Ccedil;ekme</td><td>H&#305;z: min (0), max (0.1), increment (0.1) &bull; Tav: min (0), max (1), increment (1) &bull; &Ccedil;&#305;k&#305;&scedil; &Ccedil;ap&#305;: min/max/increment (all step 0.01)</td></tr>
            <tr><td>Kalaylama</td><td>H&#305;z: min/max/increment &bull; Kalay Kal&#305;nl&#305;&#287;&#305;: min/max/increment (step 0.1)</td></tr>
            <tr><td>&Idot;ncetel &Ccedil;ekme</td><td>Girdi Say&#305;s&#305;: min (1), max (1) &bull; H&#305;z: min/max/increment &bull; &Ccedil;&#305;k&#305;&scedil; &Ccedil;ap&#305;: min/max/increment (step 0.01) &bull; Tav: min/max/increment</td></tr>
            <tr><td>Buncher</td><td>Girdi Say&#305;s&#305;: min (0), max (1) &bull; H&#305;z: min/max/increment &bull; Hatve: min/max/increment (step 0.1)</td></tr>
            <tr><td>Extruder</td><td>H&#305;z: min/max/increment &bull; &Idot;zolasyon Kal&#305;nl&#305;&#287;&#305;: min/max/increment (step 0.01) &bull; K&#305;l&#305;f Kal&#305;nl&#305;&#287;&#305;: min/max/increment (step 0.01)</td></tr>
            <tr><td>E-beam</td><td>H&#305;z: min/max/increment &bull; Radyasyon Seviyesi: min/max, increment (step 1)</td></tr>
            <tr><td>Aktarma</td><td>None (Marka/Model only)</td></tr>
        </table>

        <h3>6.1.7 Service Layer (Frontend)</h3>

        <p>API calls are wrapped in <code>services/teknik/index.ts</code> with a URL transformation: underscores in the machine type name are replaced with hyphens for the URL path.</p>

        <pre><span class="comment">// kabatel_cekme â†’ kabatel-cekme in URL</span>
<span class="keyword">export async function</span> getMachines(type: MachineType) {
  <span class="keyword">return</span> request(`/api/teknik/machines/${type.replace(<span class="string">'_'</span>, <span class="string">'-'</span>)}`);
}

<span class="keyword">export async function</span> createMachine(type: MachineType, data: <span class="keyword">any</span>) {
  <span class="keyword">return</span> request(`/api/teknik/machines/${type.replace(<span class="string">'_'</span>, <span class="string">'-'</span>)}`, {
    method: <span class="string">'POST'</span>, data
  });
}

<span class="comment">// Same pattern for updateMachine (PUT), deleteMachine (DELETE)</span>
<span class="comment">// getMachineDropdown calls /{id}/dropdown for Playground use</span></pre>

        <h3>6.1.8 How It Connects to Other Submodules</h3>

        <div class="arch-grid">
            <div class="arch-box">
                <h4>&rarr; Cable Playground (6.5)</h4>
                <p>The primary consumer. When you add a machine to the canvas and configure it, the Playground calls the <code>/options</code> endpoint to populate dropdowns. When multiple machines are selected, it reads all their ranges and calculates the intersection &mdash; only showing parameter values all selected machines can physically produce.</p>
            </div>
            <div class="arch-box">
                <h4>&rarr; Cable Database (6.6)</h4>
                <p>Indirect. Machine IDs are stored in each <code>DesignStep</code>&rsquo;s <code>machine_ids</code> field. The Cable Database stores the finalized design including which specific machines were used, so Production knows which physical machine to assign each step to.</p>
            </div>
            <div class="arch-box">
                <h4>&rarr; &Uuml;retim (Production Module)</h4>
                <p>When a work card is generated, the production system reads which machines a cable design requires. Machine IDs stored in the design map directly to the registry maintained here.</p>
            </div>
        </div>

        <div class="discovery">
            <p style="margin-bottom: 0;"><strong>Design principle:</strong> Machine Management is a pure data provider. It knows nothing about designs, orders, or production. It only answers the question &ldquo;what can this machine do?&rdquo; &mdash; everything else is the consumer&rsquo;s responsibility. This keeps the module simple (~726 lines frontend, ~38 endpoints) and makes it the most stable part of the Teknik subsystem.</p>
        </div>

        <!-- ============================================ -->
        <h2>6.2 STANDARDS MANAGEMENT</h2>
        <!-- ============================================ -->

        <p>Every cable sold must pass a set of quality tests defined by international standards bodies (IEC, CENELEC) or the customer. Standards Management is where those tests are defined &mdash; what to measure, how many samples, with which parameters, and what the reference standard number is. These definitions are then embedded into cable designs so that the Lab module knows exactly what to test and when during production.</p>

        <div class="insight">
            <p style="margin-bottom: 0;"><strong>Three layers of quality:</strong> <code>IEC-EN</code> covers European harmonized standards (EN 50618, IEC 60228). <code>UL</code> covers American standards (UL 4703, UL 854). <code>SLN</code> covers Solen&rsquo;s own internal tests &mdash; company-specific checks that go beyond what the standards require. When a cable design is created in the Playground, only tests matching the design&rsquo;s standard category are shown.</p>
        </div>

        <h3>6.2.1 Data Model</h3>

        <p>Three tables work together: standards define what to test, parameters define what to measure within each test, and results store the actual measurements from production.</p>

        <h4><code>test_standards</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Nullable</th><th>Constraints / Default</th><th>Notes</th></tr>
            <tr><td><code>id</code></td><td>Integer</td><td>No</td><td>PK, indexed</td><td>&mdash;</td></tr>
            <tr><td><code>standard_category</code></td><td>String(50)</td><td>No</td><td>CHECK: IN (&lsquo;IEC-EN&rsquo;, &lsquo;UL&rsquo;, &lsquo;SLN&rsquo;)</td><td>Which standards body</td></tr>
            <tr><td><code>test_name</code></td><td>String(200)</td><td>No</td><td>&mdash;</td><td>Turkish test name</td></tr>
            <tr><td><code>test_name_en</code></td><td>String(200)</td><td>Yes</td><td>&mdash;</td><td>English test name</td></tr>
            <tr><td><code>standard_number</code></td><td>String(100)</td><td>Yes</td><td>&mdash;</td><td>e.g. &ldquo;EN 50618&rdquo;, &ldquo;IEC 60228&rdquo;</td></tr>
            <tr><td><code>test_type</code></td><td>String(100)</td><td>Yes</td><td>&mdash;</td><td>Free-form: Mekanik, Elektriksel, G&ouml;rsel, Boyutsal</td></tr>
            <tr><td><code>unit</code></td><td>String(50)</td><td>Yes</td><td>&mdash;</td><td>e.g. &ldquo;ohm/km&rdquo;, &ldquo;kV&rdquo;, &ldquo;N/mm&sup2;&rdquo;</td></tr>
            <tr><td><code>number_of_values</code></td><td>Integer</td><td>No</td><td>Default: 1, CHECK: &ge; 1</td><td>How many values per measurement</td></tr>
            <tr><td><code>test_samples</code></td><td>Integer</td><td>No</td><td>Default: 1, CHECK: &ge; 1</td><td>How many samples to test</td></tr>
            <tr><td><code>test_method</code></td><td>Text</td><td>Yes</td><td>&mdash;</td><td>Free-text test procedure description</td></tr>
            <tr><td><code>is_active</code></td><td>Boolean</td><td>No</td><td>Default: True, indexed</td><td>Soft-delete flag</td></tr>
            <tr><td><code>created_by</code></td><td>Integer</td><td>Yes</td><td>FK &rarr; <code>users.id</code></td><td>&mdash;</td></tr>
            <tr><td><code>created_at</code></td><td>DateTime</td><td>No</td><td>utcnow</td><td>&mdash;</td></tr>
            <tr><td><code>updated_at</code></td><td>DateTime</td><td>No</td><td>utcnow, auto-updates</td><td>&mdash;</td></tr>
        </table>
        <p><strong>Unique constraint:</strong> <code>(standard_category, test_name, standard_number)</code> &mdash; prevents duplicate test definitions within the same standards body.</p>

        <h4><code>test_parameters</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Nullable</th><th>Constraints / Default</th><th>Notes</th></tr>
            <tr><td><code>id</code></td><td>Integer</td><td>No</td><td>PK, indexed</td><td>&mdash;</td></tr>
            <tr><td><code>test_standard_id</code></td><td>Integer</td><td>No</td><td>FK &rarr; <code>test_standards.id</code>, ON DELETE CASCADE</td><td>&mdash;</td></tr>
            <tr><td><code>parameter_name</code></td><td>String(100)</td><td>No</td><td>&mdash;</td><td>e.g. &ldquo;&Ccedil;ekme Dayan&#305;m&#305;&rdquo;, &ldquo;Uzama&rdquo;, &ldquo;Diren&ccedil;&rdquo;</td></tr>
            <tr><td><code>parameter_unit</code></td><td>String(50)</td><td>Yes</td><td>&mdash;</td><td>e.g. &ldquo;N/mm&sup2;&rdquo;, &ldquo;%&rdquo;, &ldquo;ohm/km&rdquo;</td></tr>
            <tr><td><code>parameter_order</code></td><td>Integer</td><td>No</td><td>Default: 1</td><td>Display order in forms</td></tr>
            <tr><td><code>is_required</code></td><td>Boolean</td><td>No</td><td>Default: True</td><td>Must be filled during testing</td></tr>
            <tr><td><code>created_at</code></td><td>DateTime</td><td>No</td><td>utcnow</td><td>&mdash;</td></tr>
        </table>
        <p><strong>Unique constraint:</strong> <code>(test_standard_id, parameter_name)</code> &mdash; no duplicate parameter names within a single test.</p>

        <h4><code>test_results</code></h4>
        <table>
            <tr><th>Column</th><th>Type</th><th>Nullable</th><th>Constraints / Default</th><th>Notes</th></tr>
            <tr><td><code>id</code></td><td>Integer</td><td>No</td><td>PK, indexed</td><td>&mdash;</td></tr>
            <tr><td><code>test_standard_id</code></td><td>Integer</td><td>No</td><td>FK &rarr; <code>test_standards.id</code></td><td>Which test was performed</td></tr>
            <tr><td><code>design_step_id</code></td><td>Integer</td><td>Yes</td><td>FK &rarr; <code>design_steps.id</code></td><td>Links result to specific production step</td></tr>
            <tr><td><code>production_session_id</code></td><td>Integer</td><td>Yes</td><td>&mdash;</td><td>Links to production session</td></tr>
            <tr><td><code>cable_batch_code</code></td><td>String(50)</td><td>Yes</td><td>Indexed</td><td>Batch identifier for traceability</td></tr>
            <tr><td><code>test_date</code></td><td>DateTime</td><td>No</td><td>&mdash;</td><td>When the test was performed</td></tr>
            <tr><td><code>tested_by</code></td><td>Integer</td><td>No</td><td>FK &rarr; <code>users.id</code></td><td>Who performed the test</td></tr>
            <tr><td><code>measurements</code></td><td>Text</td><td>No</td><td>&mdash;</td><td>JSON string of measurement data</td></tr>
            <tr><td><code>pass_fail</code></td><td>String(10)</td><td>Yes</td><td>CHECK: IN (&lsquo;PASS&rsquo;, &lsquo;FAIL&rsquo;, &lsquo;PENDING&rsquo;) OR NULL</td><td>Test outcome</td></tr>
            <tr><td><code>notes</code></td><td>Text</td><td>Yes</td><td>&mdash;</td><td>Appended with timestamps by status updates</td></tr>
            <tr><td><code>created_at</code></td><td>DateTime</td><td>No</td><td>utcnow</td><td>&mdash;</td></tr>
        </table>

        <p><strong>Measurement storage:</strong> The <code>measurements</code> column stores a JSON array. Each entry is a <code>MeasurementData</code> object with <code>parameter</code> (name), <code>values</code> (float array), optional <code>unit</code>, and optional per-parameter <code>result</code>. The model has helper methods: <code>get_measurements()</code> parses the JSON, <code>set_measurements()</code> serializes it, and <code>evaluate_result()</code> returns PASS/FAIL/PENDING based on whether all required parameters have values.</p>

        <h3>6.2.2 Relationships</h3>

        <div class="flow">
            <div class="flow-box" style="background: #eff6ff; border-color: #2563eb;">TestStandard</div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #faf5ff; border-color: #7c3aed;">N &times; TestParameter<br><span style="font-size:9px;color:#666;">cascade delete</span></div>
        </div>
        <div class="flow">
            <div class="flow-box" style="background: #eff6ff; border-color: #2563eb;">TestStandard</div>
            <span class="flow-arrow">&rarr;</span>
            <div class="flow-box" style="background: #dcfce7; border-color: #16a34a;">N &times; TestResult<br><span style="font-size:9px;color:#666;">no cascade</span></div>
        </div>

        <p>Delete behavior is smart: if a standard has test results, it is <strong>soft deleted</strong> (<code>is_active = false</code>) to preserve result traceability. If it has no results, it is <strong>hard deleted</strong>. Parameters always cascade &mdash; deleting a standard removes all its parameters.</p>

        <h3>6.2.3 API Endpoints</h3>

        <p>12 endpoints organized into three groups: standards CRUD, parameter management, and test results.</p>

        <h4>Test Standards</h4>
        <table>
            <tr><th>Method</th><th>Path</th><th>Permission</th><th>What It Does</th></tr>
            <tr><td><code>POST</code></td><td><code>/teknik/tests</code></td><td>super_admin, lab_user, production_manager</td><td>Create standard + parameters in one transaction. Checks for duplicate (category + name + number). Flushes DB to get ID before adding parameters.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/tests</code></td><td>Authenticated</td><td>List all. <code>?category=IEC-EN</code>, <code>?active_only=true</code> (default), <code>?search=tensile</code>. Eager-loads parameters. Orders by category then name.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/tests/{id}</code></td><td>Authenticated</td><td>Single standard detail.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/tests/{id}/full</code></td><td>Authenticated</td><td>Full standard with sorted parameters + <code>has_parameters</code> flag. Used by Playground for dynamic form generation.</td></tr>
            <tr><td><code>PUT</code></td><td><code>/teknik/tests/{id}</code></td><td>super_admin, lab_user, production_manager</td><td>Update standard. If <code>parameters</code> provided: <strong>deletes all existing</strong>, creates new ones (full replacement).</td></tr>
            <tr><td><code>DELETE</code></td><td><code>/teknik/tests/{id}</code></td><td>super_admin, lab_user</td><td>Smart delete: soft if has results, hard if no results.</td></tr>
        </table>

        <h4>Test Parameters</h4>
        <table>
            <tr><th>Method</th><th>Path</th><th>Permission</th><th>What It Does</th></tr>
            <tr><td><code>POST</code></td><td><code>/teknik/tests/{id}/parameters</code></td><td>super_admin, lab_user, production_manager</td><td>Add single parameter to existing standard. Checks duplicate name.</td></tr>
            <tr><td><code>DELETE</code></td><td><code>/teknik/parameters/{id}</code></td><td>super_admin, lab_user</td><td>Hard delete single parameter.</td></tr>
        </table>

        <h4>Test Results</h4>
        <table>
            <tr><th>Method</th><th>Path</th><th>Permission</th><th>What It Does</th></tr>
            <tr><td><code>POST</code></td><td><code>/teknik/results</code></td><td>lab_user, super_admin</td><td>Create result with measurements JSON. Auto-sets <code>tested_by</code>. Calls <code>evaluate_result()</code> for initial pass/fail.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/results</code></td><td>Authenticated</td><td>List results. Filter by <code>?batch_code</code>, <code>?test_standard_id</code>, <code>?pass_fail</code>. Limit: 1&ndash;200, default 50. Ordered by test_date DESC.</td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/results/{id}</code></td><td>Authenticated</td><td>Single result with tester name and standard info.</td></tr>
            <tr><td><code>PUT</code></td><td><code>/teknik/results/{id}/status</code></td><td>lab_user, super_admin</td><td>Update pass/fail status. Appends notes with timestamp and username for audit trail.</td></tr>
        </table>

        <h4>Reference Data</h4>
        <table>
            <tr><th>Method</th><th>Path</th><th>Returns</th></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/categories</code></td><td><code>["IEC-EN", "UL", "SLN"]</code></td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/frequencies</code></td><td><code>["&uuml;retim_ba&scedil;&#305;", "&uuml;retim_sonu", "her_ikisi", "her_makara_sonu"]</code></td></tr>
            <tr><td><code>GET</code></td><td><code>/teknik/result-statuses</code></td><td><code>["PASS", "FAIL", "PENDING"]</code></td></tr>
        </table>

        <h3>6.2.4 Test Frequencies &mdash; When Tests Run</h3>

        <p>When a test is assigned to a cable design step in the Playground, the user selects a <strong>frequency</strong> that tells the Lab <em>when</em> to execute the test during production:</p>

        <table>
            <tr><th>Frequency</th><th>Turkish</th><th>Meaning</th></tr>
            <tr><td><code>&uuml;retim_ba&scedil;&#305;</code></td><td>&Uuml;retim Ba&scedil;&#305;</td><td>Test at the start of the production run</td></tr>
            <tr><td><code>&uuml;retim_sonu</code></td><td>&Uuml;retim Sonu</td><td>Test at the end of the production run</td></tr>
            <tr><td><code>her_ikisi</code></td><td>Her &#304;kisi</td><td>Test at both start and end</td></tr>
            <tr><td><code>her_makara_sonu</code></td><td>Her Makara Sonu</td><td>Test at the end of every reel (most frequent)</td></tr>
        </table>

        <h3>6.2.5 How Standards Connect to Cable Designs</h3>

        <p>This is the critical integration point. When the Playground configures a machine step, tests are fetched and filtered by the design&rsquo;s standard category:</p>

        <pre><span class="comment"># In db_integration.py &mdash; fetches tests matching the design's standard</span>
<span class="keyword">def</span> get_tests_by_standard(db, standard):
    <span class="comment"># Maps frontend code to database category</span>
    category_map = {<span class="string">'EN'</span>: <span class="string">'IEC-EN'</span>, <span class="string">'UL'</span>: <span class="string">'UL'</span>, <span class="string">'SLN'</span>: <span class="string">'SLN'</span>}
    category = category_map.get(standard, standard)

    standards = db.query(TestStandard).filter(
        TestStandard.standard_category == category,
        TestStandard.is_active == <span class="keyword">True</span>
    ).all()
    <span class="keyword">return</span> [{<span class="string">'id'</span>: s.id, <span class="string">'test_name'</span>: s.test_name, ...} <span class="keyword">for</span> s <span class="keyword">in</span> standards]</pre>

        <p>When a design is finalized, the assigned tests are stored as a JSON array in <code>cable_database.test_requirements</code>:</p>

        <pre><span class="comment"># Storage format in cable_database.test_requirements</span>
[
  {
    <span class="string">"step"</span>: 3,
    <span class="string">"machine_type"</span>: <span class="string">"extruder"</span>,
    <span class="string">"test_id"</span>: 12,
    <span class="string">"test_name"</span>: <span class="string">"&Ccedil;ekme Dayan&#305;m&#305;"</span>,
    <span class="string">"standard_number"</span>: <span class="string">"EN 50618"</span>,
    <span class="string">"frequency"</span>: <span class="string">"her_ikisi"</span>
  }
]</pre>

        <div class="finding">
            <p style="margin-bottom: 0;"><strong>Denormalized by design:</strong> Test names and standard numbers are copied into the Cable Database JSON, not just referenced by ID. This means if a test standard is later renamed or deactivated, existing cable designs retain their original test requirements. The Lab reads from Cable Database at production time &mdash; it never needs to query the Standards table to know what to test.</p>
        </div>

        <h3>6.2.6 Permission Model</h3>

        <table>
            <tr><th>Action</th><th>Legacy Roles</th><th>Granular Permission</th></tr>
            <tr><td>View / List / Search</td><td>Any authenticated user</td><td>Any authenticated user</td></tr>
            <tr><td>Create / Update</td><td>super_admin, lab_user, production_manager</td><td><code>teknik.standards.create</code> / <code>teknik.standards.edit</code></td></tr>
            <tr><td>Delete</td><td>super_admin, lab_user</td><td><code>teknik.standards.delete</code></td></tr>
            <tr><td>Create / Update Results</td><td>lab_user, super_admin</td><td><code>teknik.standards.create</code></td></tr>
        </table>

        <p>Note: <code>lab_user</code> has wider access here than in Machine Management &mdash; this is intentional because lab personnel are the primary users of the standards system.</p>

        <h3>6.2.7 Frontend &mdash; Standards Page</h3>

        <p>Single file: <code>pages/Teknik/Standards/index.tsx</code> (553 lines). Route: <code>/teknik/standards</code>.</p>

        <h4>Page Structure</h4>
        <p><code>PageContainer</code> with a <code>ProTable</code> and a modal for create/edit. No tabs &mdash; all standards shown in one table, category distinguished by color-coded tags.</p>

        <h4>Table Columns (9)</h4>
        <table>
            <tr><th>Column</th><th>Width</th><th>Notes</th></tr>
            <tr><td>ID</td><td>60px</td><td>Fixed left</td></tr>
            <tr><td>Kategori</td><td>100px</td><td>Color-coded tag: <span class="good">IEC-EN</span> blue, <span class="good">UL</span> green, <span style="color:#f59e0b;font-weight:700;">SLN</span> orange</td></tr>
            <tr><td>Test Ad&#305;</td><td>auto</td><td>Turkish test name, ellipsis</td></tr>
            <tr><td>Standart No</td><td>150px</td><td>e.g. &ldquo;EN 50618&rdquo;</td></tr>
            <tr><td>Test Tipi</td><td>120px</td><td>Shows &ldquo;-&rdquo; if empty</td></tr>
            <tr><td>Numune Say&#305;s&#305;</td><td>100px</td><td>Centered integer</td></tr>
            <tr><td>Parametre</td><td>100px</td><td>Shows parameter count (e.g. &ldquo;3&rdquo;)</td></tr>
            <tr><td>Durum</td><td>80px</td><td>Green &ldquo;Aktif&rdquo; / Red &ldquo;Pasif&rdquo;</td></tr>
            <tr><td>&#304;&scedil;lemler</td><td>100px</td><td>Fixed right; edit + delete icons</td></tr>
        </table>

        <h4>Create/Edit Modal (800px, blurred backdrop)</h4>
        <p>The modal contains 7 form fields plus a dynamic parameter list:</p>
        <table>
            <tr><th>Field</th><th>Type</th><th>Required</th><th>Notes</th></tr>
            <tr><td>Standart Kategorisi</td><td>Select</td><td>Yes</td><td>Options: IEC-EN, UL, SLN (&Ouml;zel)</td></tr>
            <tr><td>Test Ad&#305; (TR)</td><td>Input</td><td>Yes</td><td>Placeholder: &ldquo;&Ouml;rn: &Ccedil;ekme Dayan&#305;m&#305;&rdquo;</td></tr>
            <tr><td>Test Ad&#305; (EN)</td><td>Input</td><td>No</td><td>Placeholder: &ldquo;&Ouml;rn: Tensile Strength&rdquo;</td></tr>
            <tr><td>Standart Numaras&#305;</td><td>Input</td><td>Yes</td><td>Placeholder: &ldquo;&Ouml;rn: EN 50618&rdquo;</td></tr>
            <tr><td>Test Tipi</td><td>Select</td><td>No</td><td>Options: Mekanik, Elektriksel, G&ouml;rsel, Boyutsal</td></tr>
            <tr><td>Numune Say&#305;s&#305;</td><td>InputNumber</td><td>No</td><td>Min: 1</td></tr>
            <tr><td>Test Metodu</td><td>TextArea</td><td>No</td><td>3 rows, procedure description</td></tr>
        </table>

        <h4>Parameter Management (inside modal)</h4>
        <p>Below a &ldquo;Test Parametreleri&rdquo; divider, each parameter is rendered as a small Card with two fields:</p>
        <ul>
            <li><strong>Parametre Ad&#305;</strong> &mdash; Input, placeholder &ldquo;Parametre Ad&#305; (&ouml;rn: &Ccedil;ekme Dayan&#305;m&#305;, Uzama, Diren&ccedil;)&rdquo;</li>
            <li><strong>Birim</strong> &mdash; Input, placeholder &ldquo;Birim (&ouml;rn: N/mm&sup2;, %, ohm/km)&rdquo;</li>
        </ul>
        <p>&ldquo;Parametre Ekle&rdquo; button (dashed, full-width) adds a new empty parameter card. Each card has a delete button in the header. Order is auto-assigned sequentially. On update, all existing parameters are <strong>replaced</strong> with the new set (delete all + create new).</p>

        <h4>CRUD Flow</h4>

        <p><strong>Create:</strong> Click &ldquo;Yeni Test Standard&#305;&rdquo; &rarr; Modal opens &rarr; Fill category, name, standard number &rarr; Optionally add parameters &rarr; Click &ldquo;Ekle&rdquo; &rarr; <code>POST /api/teknik/standards/tests</code> &rarr; Toast &ldquo;Test standard&#305; ba&scedil;ar&#305;yla eklendi!&rdquo; &rarr; Modal closes, list refreshes.</p>

        <p><strong>Edit:</strong> Click edit icon &rarr; Modal opens pre-filled &rarr; Modify fields/parameters &rarr; Click &ldquo;G&uuml;ncelle&rdquo; &rarr; <code>PUT /api/teknik/standards/tests/{id}</code> &rarr; Toast &ldquo;Test standard&#305; ba&scedil;ar&#305;yla g&uuml;ncellendi!&rdquo; &rarr; Modal closes, list refreshes.</p>

        <p><strong>Delete:</strong> Click delete icon &rarr; Popconfirm &ldquo;Bu standard&#305; devre d&#305;&scedil;&#305; b&#305;rakmak istedi&#287;inize emin misiniz?&rdquo; &rarr; <code>DELETE /api/teknik/standards/tests/{id}</code> &rarr; Toast &ldquo;Test standard&#305; devre d&#305;&scedil;&#305; b&#305;rak&#305;ld&#305;!&rdquo; &rarr; List refreshes. Delete button disabled for already-inactive standards.</p>

        <h4>Search &amp; Pagination</h4>
        <p><strong>Search</strong> is client-side (200px rounded input). Searches across ID, category, test name, standard number, test type, sample count, and status (aktif/pasif). <strong>Pagination</strong> defaults to 10 rows with [10, 20, 50, 100] options. Sorted by ID descending (newest first).</p>

        <h3>6.2.8 How It Connects to Other Submodules</h3>

        <div class="arch-grid">
            <div class="arch-box">
                <h4>&rarr; Cable Playground (6.5)</h4>
                <p>Every machine form in the Playground includes an <code>available_tests</code> section populated via <code>get_tests_by_standard()</code>. Users assign tests to steps with a frequency. The Playground&rsquo;s form integration reads from Standards but never writes to it.</p>
            </div>
            <div class="arch-box">
                <h4>&rarr; Cable Database (6.6)</h4>
                <p>Finalized designs store <code>test_requirements</code> as denormalized JSON &mdash; test IDs, names, standard numbers, and frequencies copied at finalization time. This snapshot ensures immutability.</p>
            </div>
            <div class="arch-box">
                <h4>&rarr; Lab Module</h4>
                <p>During production, the Lab reads test requirements from Cable Database and creates <code>TestResult</code> records linked to the standard. Lab users fill measurements and set pass/fail status with timestamped notes for audit trail.</p>
            </div>
        </div>

        <div class="discovery">
            <p style="margin-bottom: 0;"><strong>Design principle:</strong> Standards are defined once, embedded into designs by value (not by reference), and tested during production. The three-table structure (standard &rarr; parameters &rarr; results) separates definition from execution. Standards Management never touches production data &mdash; it only answers &ldquo;what should be tested?&rdquo;, leaving &ldquo;what was the result?&rdquo; to the Lab module.</p>
        </div>

    </main>

</body>
</html>
